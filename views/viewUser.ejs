<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= targetUser.name %> || <%= config.name %>
    </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="assets/styles/scroll.css">
    <link rel="stylesheet" href="assets/styles/main.css">
    <link rel="stylesheet" href="assets/styles/admin.css">
</head>

<body class="bg-light">
    <div id="blurFilter" style="background: url(<%=config.other.bg%>)"></div>
    <main id="page">
        <%- include('./components/nav.ejs') %>
        <div class="rounded bg-dark text-center mx-auto text-light mt-5 px-5 py-3 h-auto" style="width: 90vw;">
            <div class="text-lg-start text-sm-center mt-5 w-100">
                <h1>Edit User</h1>
                <h3 class="text-muted"><%= config.code + targetUser.atobUsername %></h3>
            </div>
            <hr>
            <form class="w-100 mt-4 h-auto px-4 text-center text-md-start" action="/updateAdminUser">
                <h4 class="mb-2"><span class="bi bi-info-circle d-block d-md-none mb-1"></span> Basic Info <span class="bi bi-info-circle d-none d-md-inline-block"></span></h4>
                <h5 class="ms-0 ms-md-3 mt-2">Username</h5>
                <input class="ms-0 ms-md-4 disabled form-control bg-dark form-disabled text-muted" disabled value="<%= targetUser.atobUsername %>">
                <h5 class="ms-0 ms-md-3 mt-3">Display Name</h5>
                <input class="ms-0 ms-md-4 disabled form-control bg-dark form-disabled text-muted" disabled value="<%= targetUser.name %>">
                <br>
                <button class="btn btn-light disabled" disabled>Submit</button>
            </form>
            <hr>
            <form class="w-100 mt-4 h-auto px-4 text-center text-md-start" method="POST" onsubmit="return window.confirm('Are you sure you want to do this?')" action="/updateAdminPWD">
                <h4 class="mb-2"><span class="bi bi-shield-lock d-block d-md-none mb-1"></span> Authentication <span class="bi bi-shield-lock d-none d-md-inline-block"></span></h4>
                <input type="text" name="user" hidden value="<%= targetUser.username %>">
                <br>
                <p>Password will be set to CHANGEME.</p>
                <button class="btn btn-light">Make User Change Password</button>
            </form>
            <hr>
            <div class="w-100 mt-4 h-auto px-4 text-center text-md-start">
                <h4 class="mb-2"><span class="bi bi-clock d-block d-md-none mb-1"></span> Activity <span class="bi bi-clock d-none d-md-inline-block"></span></h4>
                <h5 class="ms-3 mt-2">Last Login</h5>
                <p class="ms-4 disabled bg-dark form-disabled text-muted" disabled><%= new Intl.DateTimeFormat('en', { day: '2-digit' }).format(new Date(user.meta.llogin)) + "-" + new
                    Intl.DateTimeFormat('en', { month: 'short' }).format(new Date(targetUser.meta.llogin)) + "-" + new
                    Intl.DateTimeFormat('en', { year: 'numeric' }).format(new Date(targetUser.meta.llogin)) + " at " + new
                    Date(targetUser.meta.llogin).getHours() + ":" + new Date(targetUser.meta.llogin).getMinutes(); %></p>
                <h5 class="ms-3 mt-2">Created</h5>
                <p class="ms-4 disabled bg-dark form-disabled text-muted" disabled>
                    <%= new Intl.DateTimeFormat('en', { day: '2-digit' }).format(new Date(user.meta.created)) + "-" + new
                        Intl.DateTimeFormat('en', { month: 'short' }).format(new Date(targetUser.meta.created)) + "-" + new
                        Intl.DateTimeFormat('en', { year: 'numeric' }).format(new Date(targetUser.meta.created)) + " at " + new
                        Date(targetUser.meta.created).getHours() + ":" + new Date(targetUser.meta.created).getMinutes(); %>
                </p>
                <hr>
                <form method="post" onsubmit='return window.confirm("Are you sure you want to remove this?")' action="/rmUser">
                    <input type="text" name="user" hidden value="<%= targetUser.username %>">
                    <button class="btn btn-danger">Revoke User</button>
                </form>
            </div>
        </div>
    </main>
    <div class="hidden">
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0"
        crossorigin="anonymous"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script src="assets/scripts/admin.js"></script>
</body>

</html>