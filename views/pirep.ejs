<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        PIREP || <%= config.name %>
    </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="assets/styles/scroll.css">
    <link rel="stylesheet" href="assets/styles/main.css">
</head>

<body class="w-100 h-auto">
    <% if(user.ifcCapable != true){ %>
    <div class="alert alert-warning d-flex align-items-center mt-3 alert-dismissible fade show position-absolute w-100"
        role="alert" style="z-index: 100;">
        <i class="bi bi-exclamation-triangle-fill me-3 h-100 fs-3"></i>
        <div><strong>Be aware!</strong><br>These changes will not be reflected in the VANet storage.<br>This is because your account was created before version <kbd>2.1</kbd> Please contact an admin if you would like to have your account revoked and a new one created.</div>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    <% } %>
    <%- include("./components/nav.ejs")%>
    <div class="w-100 h-auto p-lg-5 mt-3 text-center" id="content">
        <i class="display-1 bi bi-file-earmark-plus"></i>
        <h1 class="display-2 mt-1">PIREP</h1>
        <br>
        <form class="w-75 w-sm-100 h-auto mx-auto form-control" id="PIREP-Form" action="/newPirep" method="POST"s>
            <h1>New Pirep</h1>
            <br>
            <div class="form-control w-auto p-3 w-sm-100">
            <label class="form-label">
                <h4>Aircraft</h4>
                <select class="form-select" name="vehicle" required>
                    <option selected disabled value="">-Select-</option>
                    <% data.crafts.forEach(craft =>{%>
                        <option value="<%= craft.livID %>"><%= craft.publicName %></option>
                    <%})%>
                </select>
            </label>
            </div><br>
            <div class="form-control w-auto p-3 w-sm-100">
                <label class="form-label">
                    <h4>Airline</h4>
                    <select class="form-select text-center" name="airline" required>
                        <option selected disabled value="">-Select-</option>
                        <% data.ops.forEach(op=>{%>
                            <option value="<%= op.name %>">
                                <%= op.name %>
                            </option>
                            <%})%>
                    </select>
                </label>
            </div><br>
            <div class="form-control w-auto p-3 w-sm-100">
                <label class="form-label">
                    <h4>Route</h4>
                    <p class="text-muted">Type to search.</p>
                    <input type="text" class="form-control" required list="routeList" name="route">
                    <datalist id="routeList">
                        <% data.routes.forEach(route=>{%>
                            <option value="<%= route.name %>">
                                <%= route.name %>
                            </option>
                            <%})%>
                    </datalist>
                </label>
            </div><br>
            <div class="form-control w-auto p-3 w-sm-100">
                <label class="form-label">
                    <h4>Departure Date</h4>
                    <input type="date" required class="form-control" name="departureT">
                </label>
            </div><br>
            <div class="form-control w-auto p-3 w-sm-100">
                <label class="form-label">
                    <h4>Flight Time</h4>
                    <input type="number" required class="form-control mb-2" placeholder="Hours" name="flightTimeH">
                    <input type="number" required class="form-control mt-2" placeholder="Minutes" name="flightTimeM">
                    <p class="text-muted">Answer in hours & minutes</p>
                </label>
            </div><br>
            <div class="form-control w-auto p-3 w-sm-100">
                <label class="form-label">
                    <h4>Departure ICAO</h4>
                    <input type="text" required class="form-control" name="dICAO">
                    <p class="text-muted">Answer in minutes</p>
                </label>
            </div><br>
            <div class="form-control w-auto p-3 w-sm-100">
                <label class="form-label">
                    <h4>Arrival ICAO</h4>
                    <input type="text" required class="form-control" name="aICAO">
                    <p class="text-muted">Answer in minutes</p>
                </label>
            </div><br>
            <div class="form-control w-auto p-3 w-sm-100">
                <label class="form-label">
                    <h4>Fuel Used</h4>
                    <input type="number form-disabled" required class="form-control" name="fuel">
                    <p class="text-muted">Answer in kg</p>
                </label>
            </div><br>
            <div class="form-control w-auto p-3 w-sm-100">
                <label class="form-label w-100">
                    <h4>Comments</h4>
                    <textarea class="form-text text-dark p-3 halfBgFullSm" required name="comments"></textarea>
                </label>
            </div><br>
            <button class="btn btn-primary">Submit</button>
        </form>
        
    </div>
    <%- include("./components/dark.ejs")%>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
        crossorigin="anonymous"></script>
</body>

</html>